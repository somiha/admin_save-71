<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<div class="relative">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

  <nav
    class="bg-white fixed min-[2000px]:absolute top-0 flex flex-row xl:flex-col justify-between max-h-[800px] xl:max-h-none xl:h-screen custom-container shadow-sm xl:shadow-lg w-full xl:w-fit z-10 overflow-y-auto scroll-h">

    <div class="">
      <a href="/" class="h-10 w-10"><img class="xl:my-5 py-5 xl:p-5 xl:ml-4 h-16 xl:h-16" src="/images/logo.webp"
          alt=""></a>

      <div
        class="bg-white xl:bg-transparent hidden xl:grid gap-3 absolute xl:static top-12 right-0 z-10 rounded-sm py-5 xl:py-0 2xl:py-5 max-h-screen 2xl:max-h-screen min-w-[200px] scroll-smooth shadow-md xl:shadow-none"
        id="toggle-menu">

        <button class="accordion-button menu-list">
          <i class="fa-solid fa-shield-halved"></i>
          <span>Manage Admin</span>
          <i class="ml-auto fa-solid fa-chevron-down"></i>
        </button>

        <ul class="menu-collapse">

          <li><a href="/adminSettings">
              My Admin Settings
            </a>
          </li>

          <% if (premissions && premissions.includes && premissions.includes('/addAdmin')) { %>
          <li><a href="/addAdmin">
              Add Sub Admin
            </a>
          </li>
          <% } %>
          <% if (premissions && premissions.includes && premissions.includes('/addEmployee')) { %>
          <li><a href="/addEmployee">
              Add Employee
            </a>
          </li>
          <% } %>
          <% if (premissions && premissions.includes && premissions.includes('/sub-admins')) { %>
          <li><a href="/sub-admins">
              List All Sub Admin
            </a>
          </li>
          <% } %>
          <% if (premissions && premissions.includes && premissions.includes('/allEmployees')) { %>
          <li><a href="/allEmployees">
              List All allEmployees
            </a>
          </li>
          <% } %>

        </ul>
        <% if (premissions && premissions.includes && premissions.some(link => (link.toLowerCase() === '/withdraw'))) { %>
        <button class="accordion-button menu-list">
          <i class="fa-solid fa-circle-dollar-to-slot"></i>
          <span>Finace</span>
          <i class="ml-auto fa-solid fa-chevron-down"></i>
        </button>
        <% } %>

        <ul class="menu-collapse">
          <!-- <li><a href="#">Earning History</a></li>
          <li><a href="#">Comission History</a></li> -->
          <% if (premissions && premissions.includes && premissions.includes('/withdraw')) { %>
          <li><a href="/withdraw">Withdraw History</a></li>
          <% } %>
          <!-- <li><a href="#">Company Costing</a></li> -->
        </ul>

        <button class="accordion-button menu-list">
          <i class="fa-solid fa-bag-shopping"></i>
          <span>Product</span>
          <i class="ml-auto fa-solid fa-chevron-down"></i>
        </button>

        <ul class="menu-collapse">
          <% if (premissions && premissions.includes && premissions.includes('/')) { %>
          <li><a href="/">All Products</a></li>
          <% } %>
          <% if (premissions && premissions.includes && premissions.some(link => link.toLowerCase() === '/maincategory')) { %>
          <li><a href="/maincategory">Categories</a></li>
          <% } %>
        </ul>


        <a class="menu-list" href="#">
          <i class="fa-solid text-xs fa-user-group"></i>
          <span>Customers</span>
        </a>

        <!-- <a class="menu-list" href="#">
          <i class="fa-solid fa-address-book"></i>
          <span>Sellers</span>
        </a>

        <button class="accordion-button menu-list">
          <i class="fa-solid fa-gear"></i>
          <span>Settings</span>
          <i class="ml-auto fa-solid fa-chevron-down"></i>
        </button>

        <ul class="menu-collapse">
          <li><a href="#">Manage Profile</a></li>
          <li><a href="#">My Profile</a></li>
        </ul> -->

        <!-- <a class="menu-list" href="student.html">
          <i class="fa-solid fa-envelope-open-text"></i>
          <span>Message</span>
        </a>

        <a class="menu-list" href="allStudents.html">
          <i class="fa-solid fa-table-list"></i>
          <span>Orders</span>
        </a> -->
        <% if (premissions && premissions.includes && premissions.some(link => link.toLowerCase() === '/updateExchangeView')) { %>
        <a class="menu-list" href="/updateExchangeView">
          <i class="fa-solid fa-table-list"></i>
          <span>Update Exchange</span>
        </a>
        <% } %>
        <% if (premissions && premissions.includes && premissions.some(link => (link.toLowerCase() === '/about-us' || link.toLowerCase() === '/privacy-policy' || link.toLowerCase() === '/terms-and-conditions' || link.toLowerCase() === '/contact-us'))) { %>

        <button class="accordion-button menu-list">
          <i class="fa-solid fa-info-circle"></i>
          <span>Site Information</span>
          <i class="ml-auto fa-solid fa-chevron-down"></i>
        </button>

        <% } %>

        <ul class="menu-collapse">
          <% if (premissions && premissions.includes && premissions.some(link => link.toLowerCase() === '/about-us')) { %>
          <li><a href="/about-us">
              About Us
            </a>
          </li>
          <% } %>
          <% if (premissions && premissions.includes && premissions.some(link => link.toLowerCase() === '/privacy-policy')) { %>
          <li><a href="/privacy-policy">
              Privacy Policy
            </a>
          </li>
          <% } %>
          <% if (premissions && premissions.includes && premissions.some(link => link.toLowerCase() === '/terms-and-conditions')) { %>
          <li><a href="/terms-and-conditions">
              Terms and Conditions
            </a>
          </li>
          <% } %>
          <% if (premissions && premissions.includes && premissions.some(link => link.toLowerCase() === '/contact-us')) { %>
          <li><a href="/contact-us">
              Contact Us
            </a>
          </li>
          <% } %>
          <% if (premissions && premissions.includes && premissions.some(link => link.toLowerCase() === '/brand-guidelines')) { %>
          <li><a href="/brand-guidelines">
              Brand Guidelines
            </a>
          </li>
          <% } %>
          <% if (premissions && premissions.includes && premissions.some(link => link.toLowerCase() === '/notice')) { %>
          <li>
            <a href="/notice">
              Notice
            </a>
          </li>
          <% } %>
        </ul>





      </div>

      <!-- Logout Menu Section -->
      <div class="flex items-center px-0 xl:px-4 xl:py-3 xl:mt-10">
        <a class="menu-list text-primaryColor hover:bg-transparent" href="/logout">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M15.75 9V5.25C15.75 4.65326 15.5129 4.08097 15.091 3.65901C14.669 3.23705 14.0967 3 13.5 3H7.5C6.90326 3 6.33097 3.23705 5.90901 3.65901C5.48705 4.08097 5.25 4.65326 5.25 5.25V18.75C5.25 19.3467 5.48705 19.919 5.90901 20.341C6.33097 20.7629 6.90326 21 7.5 21H13.5C14.0967 21 14.669 20.7629 15.091 20.341C15.5129 19.919 15.75 19.3467 15.75 18.75V15M18.75 15L21.75 12M21.75 12L18.75 9M21.75 12H9"
              stroke="#1A63A6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
          </svg>


          <span class="hidden md:block">Log Out</span>
        </a>

        <button class="block xl:hidden" id="toggle-button">
          <svg class="-mr-[1px]" height="24px" width="24px" fill="none" stroke="currentColor" stroke-width="1.5"
            viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5">
            </path>
          </svg>
        </button>
        </a>

      </div>

    </div>

    <!-- Accordion Script -->
    <script>
      const accordionButtons = document.querySelectorAll('.accordion-button');
      const accordionMenu = document.querySelectorAll('.menu-collapse');

      accordionButtons.forEach((button) => {
        button.addEventListener('click', () => {
          const accordionCollapse = button.nextElementSibling;
          button.setAttribute(
            'aria-expanded',
            button.getAttribute('aria-expanded') === 'false' ? 'true' : 'false'
          );
          accordionCollapse.classList.toggle('hidden');
        });
      });

      // Set all accordion items to collapsed state by default
      document.querySelectorAll('.menu-collapse').forEach((collapse) => {
        collapse.classList.add('hidden');
      });
    </script>



  </nav>

  <script>
    function toggleMenu() {
      const menu = document.getElementById('menu');
      menu.classList.toggle('hidden');
    }
  </script>
</div>