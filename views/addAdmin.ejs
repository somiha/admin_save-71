<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin and Permission Management</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/output.css">
    <link rel="icon" sizes="325x325" href="https://admin.saveneed.com/images/favicon.png">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
  </head>

  <body class="bg-gray-50 font-sans">
    <section class=" max-w-[1920px] ml-auto mr-auto">

      <!-- Navigation Menu -->
      <%- include('header') %>

      <div class="ml-auto w-full xl:w-5/6 px-0 xl:px-1 py-2 mt-16 xl:mt-0">
        <div class="flex items-center justify-between px-5 py-2 xl:py-5 gap-4 border-b">
          <!-- Search Box -->
          <div class="bg-white relative">
            <input class="py-2 pr-3 pl-6 focus:outline-none max-w-[180px]" type="text" placeholder="Search...">
            <i class="fa-solid fa-magnifying-glass absolute top-1/2 left-0 -translate-y-1/2 text-tColor"></i>
          </div>

          <!-- Notification & User -->
          <%- include('profileBar') %>


        </div>
        <div class="min-h-screen">
          <!-- Navigation would go here -->

          <main class="container mx-auto px-4 py-8">
            <div class="max-w-6xl mx-auto">
              <h1 class="text-3xl font-bold text-gray-800 mb-2">Add Country Representative</h1>
              <p class="text-gray-600 mb-8">Fill in the details below to create a new country representative account</p>

              <form action="/addAdmin" method="POST" class="space-y-6">
                <!-- Admin Information Card -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-100">
                  <div class="bg-gradient-to-r from-primary-50 to-secondary-50 px-6 py-4 border-b">
                    <h2 class="text-xl font-semibold text-gray-700 flex items-center">
                      <i class="fas fa-user-tie mr-3 text-primary-500"></i>
                      Admin Information
                    </h2>
                  </div>
                  <div class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <div>
                        <label for="admin-name" class="block text-sm font-medium text-gray-700 mb-1">Full Name <span
                            class="text-red-500">*</span></label>
                        <div class="relative">
                          <input type="text" id="admin-name" name="name" required
                            class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                            placeholder="John Doe">
                          <i class="fas fa-user absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                        </div>
                      </div>

                      <div>
                        <label for="admin-country" class="block text-sm font-medium text-gray-700 mb-1">Country <span
                            class="text-red-500">*</span></label>
                        <div class="relative">
                          <select id="admin-country" name="country" required
                            class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none">
                            <option value="" disabled selected>Select a country</option>
                            <% countries.forEach(function(country) { %>
                            <option value="<%= country.id %>"><%= country.country_name %></option>
                            <% }); %>
                          </select>
                          <i class="fas fa-globe absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                        </div>
                      </div>

                      <div>
                        <label for="admin-designation" class="block text-sm font-medium text-gray-700 mb-1">Designation
                          <span class="text-red-500">*</span></label>
                        <div class="relative">
                          <select id="admin-designation" name="designation" required
                            class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none">
                            <option value="Country Representative">Country Representative</option>
                          </select>
                          <i
                            class="fas fa-briefcase absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                        </div>
                      </div>

                      <div>
                        <label for="admin-mobile" class="block text-sm font-medium text-gray-700 mb-1">Phone Number
                          <span class="text-red-500">*</span></label>
                        <div class="relative">
                          <input type="tel" id="admin-mobile" name="number" required
                            class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                            placeholder="+1 (555) 123-4567">
                          <i class="fas fa-phone absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>


                <!-- Salary Information Card -->

                <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-100">
                  <div class="bg-gradient-to-r from-primary-50 to-secondary-50 px-6 py-4 border-b">
                    <h2 class="text-xl font-semibold text-gray-700 flex items-center">
                      <i class="fas fa-coins mr-3 text-primary-500"></i>
                      Salary Information
                    </h2>
                  </div>
                  <div class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <div>
                        <label for="admin-name" class="block text-sm font-medium text-gray-700 mb-1">Salary Per Hour
                          <span class="text-red-500">*</span></label>
                        <div class="relative">
                          <input type="number" id="salary" name="salary" required
                            class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                            placeholder="">
                          <i class="fas fa-coins absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                        </div>
                      </div>


                    </div>
                  </div>
                </div>

                <!-- Login Information Card -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-100">
                  <div class="bg-gradient-to-r from-primary-50 to-secondary-50 px-6 py-4 border-b">
                    <h2 class="text-xl font-semibold text-gray-700 flex items-center">
                      <i class="fas fa-key mr-3 text-primary-500"></i>
                      Login Credentials
                    </h2>
                  </div>
                  <div class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <div>
                        <label for="admin-email" class="block text-sm font-medium text-gray-700 mb-1">Email Address
                          <span class="text-red-500">*</span></label>
                        <div class="relative">
                          <input type="email" id="admin-email" name="email" required
                            class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                            placeholder="john.doe@example.com">
                          <i
                            class="fas fa-envelope absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                        </div>
                      </div>

                      <div>
                        <label for="admin-password" class="block text-sm font-medium text-gray-700 mb-1">Password <span
                            class="text-red-500">*</span></label>
                        <div class="relative">
                          <input type="password" id="admin-password" name="password" required
                            class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                            placeholder="••••••••">
                          <i class="fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Permissions Card -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-100">
                  <div class="bg-gradient-to-r from-green-50 to-teal-50 px-6 py-4 border-b">
                    <h2 class="text-xl font-semibold text-gray-700 flex items-center">
                      <i class="fas fa-user-shield mr-3 text-green-500"></i>
                      Access Permissions
                    </h2>
                  </div>
                  <div class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                      <% for (const group in permissions) { %>
                      <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                        <h3 class="font-medium text-lg text-gray-700 mb-3 flex items-center">
                          <i class="fas fa-folder-open mr-2 text-gray-500"></i>
                          <%= group %>
                        </h3>
                        <div class="space-y-2">
                          <% permissions[group].forEach(permission => { %>
                          <div class="flex items-center">
                            <input type="checkbox"
                              id="<%= group.toLowerCase().replace(' ', '-') + '-' + permission.permission_name.toLowerCase() %>"
                              name="permissions" value="<%= permission.permission_id %>"
                              class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded">
                            <label
                              for="<%= group.toLowerCase().replace(' ', '-') + '-' + permission.permission_name.toLowerCase() %>"
                              class="ml-2 text-sm text-gray-700"><%= permission.permission_name %></label>
                          </div>
                          <% }) %>
                        </div>
                      </div>
                      <% } %>
                    </div>
                  </div>
                </div>

                <!-- Submit Section -->
                <div class="flex flex-col sm:flex-row justify-between items-center gap-4 mt-8">
                  <div class="text-sm text-gray-500">
                    <i class="fas fa-info-circle mr-1"></i> Fields marked with <span class="text-red-500">*</span> are
                    required
                  </div>

                  <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded">
                    Save Admin and Permissions
                  </button>
                </div>
            </div>
            </form>
        </div>
        </main>
      </div>
      </div>
    </section>
    <!-- Header Section Script -->
    <script>
      // Menu toggle button
      const toggleButton = document.getElementById("toggle-button");
      const toggleMenu = document.getElementById("toggle-menu");
      var toggleCounter = 1;
      toggleButton.onclick = function () {
        toggleCounter++;
        if (toggleCounter % 2 == 0) {
          toggleMenu.classList.remove("hidden");
          toggleMenu.classList.add("grid");
        } else {
          toggleMenu.classList.remove("grid");
          toggleMenu.classList.add("hidden");
        }
      }
    </script>

    <script src="./js/main.js"></script>
    <script>
      const accordionButtons = document.querySelectorAll('.accordion-button');
      const accordionMenu = document.querySelectorAll('.menu-collapse');

      accordionButtons.forEach(button => {
        button.addEventListener('click', () => {
          const accordionCollapse = button.nextElementSibling;
          button.setAttribute('aria-expanded', button.getAttribute('aria-expanded') === 'false' ? 'true' : 'false');
          accordionCollapse.classList.toggle('hidden');
        });
      });

      // Set all accordion items to collapsed state by default
      document.querySelectorAll('.menu-collapse').forEach(collapse => {
        collapse.classList.add('hidden');
      });

      // document.addEventListener('click', function (e) {
      //   if (!accordionMenu.contains(e.target) && !accordionButtons.contains(e.target)) {
      //     accordionMenu.classList.add('hidden');
      //   }
      // });
    </script>
  </body>

</html>